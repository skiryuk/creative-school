<div class="modal-header">
  <h5 class="modal-title">Создать событие</h5>
  <button type="button" class="close" aria-label="Закрыть"
          (click)="activeModal.dismiss()">x
  </button>
</div>
<form [formGroup]="eventForm" (ngSubmit)="add()">
  <div class="modal-body">
    <div class="modal-overlay-spinner" *ngIf="isLoading">
      <span class="fa fa-spinner fa-spin fa-3x"></span>
    </div>
    <div class="container">
      <div class="form-row">
        <div class="form-group col-lg-3 col-2">
          <label style="white-space: nowrap">Дата события</label>
          <p-calendar id="dateField" formControlName="dateField" name="dateField" monthNavigator="true" yearNavigator="true" yearRange="2018:2050" [(ngModel)]="model.date" dateFormat="dd.mm.yy" hideOnDateTimeSelect="true" showTime="true" hourFormat="24" [locale]="ru"></p-calendar>
        </div>
        <div class="form-group col-lg-9">
          <label for="titleField">Наименование</label>
          <input id="titleField" formControlName="titleField" name="titleField" type="text" class="form-control" [(ngModel)]="model.title" required />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-lg-3">
          <label for="categoryField">Категория</label>
          <select id="categoryField" class="form-control" (change)="onChangeType($event.target.value)">
            <option value="1" [selected]="model.type == 1">Для взрослых</option>
            <option value="2" [selected]="model.type == 2">Для детей</option>
            <option value="3" [selected]="model.type == 3">Мастер классы</option>
          </select>
        </div>
        <div class="form-group col-lg-9">
          <label for="descriptionField">Описание</label>
          <input id="descriptionField" formControlName="descriptionField" name="descriptionField" type="text" class="form-control" [(ngModel)]="model.description" />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-lg-3">
          <label for="priceField">Цена</label>
          <input type="number" class="form-control" formControlName="priceField" id="priceField" name="priceField" [disabled]="model.abonement" [(ngModel)]="model.price" />
        </div>
        <div class="form-group col-lg-9">
          <label for="eventFile">Изображение</label>
          <input type="file" class="form-control-file" formControlName="fileField" id="eventFile" (change)="selectFile($event)">
        </div>
      </div>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" formControlName="abonementField" id="abonementCheck" name="abonementCheck" [(ngModel)]="model.abonement">
          <label class="form-check-label" for="abonementCheck">
            Абонемент
          </label>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-success" [disabled]="isLoading"
            [disabled]="!eventForm.valid || !selectedFiles || !(model.price || model.abonement)">
      Создать
    </button>
  </div>
</form>
